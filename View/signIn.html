<!DOCTYPE html>
<html>
	<head>
		<title>Sign In</title>
		<!-- font awesome -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
		/>
		<!-- swiper -->
		<link
			rel="stylesheet"
			href="https://unpkg.com/swiper@7/swiper-bundle.min.css"
		/>
		<!-- lightgallery -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery-js/1.4.0/css/lightgallery.min.css"
		/>
		<!-- custom css -->
		<script src="https://kit.fontawesome.com/51237677f5.js" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="css/style.css" />
	</head>
	<body>
		<section class="header">
			<a href="index.html" class="logo">
				<i class="fa-solid fa-candy-cane fa-flip-horizontal" style="color: #ffffff;"></i> Candyz
			</a>

			<nav class="navbar">
				<a href="index.html">home</a>
				<a href="signUp.html">sign up</a>
				<a href="">sign in</a>
			</nav>

			<div id="menu-btn" class="fas fa-bars"></div>
		</section>
		<section class="sign" id="sign">
			<h1 class="heading">sign in</h1>
			<form action="/signin" method="POST" id="signinForm">
				<div class="box-container">
					<div class="box">
						<div id="errorMessages" class="alert" style="display: none; color: red; font-size: medium; margin-top: 5px; ">
							alert text
						</div>
						<div class="inputBox">
							<span>email</span>
							<input type="email" name="email" id="emailInput" placeholder="enter your email" />
							<div id="emailAlert" class="alert" style="display: none; color: red; font-size: medium; margin-top: 5px; ">No such user exists</div>
						</div>
						<div class="inputBox">
							<span>password</span>
							<input type="password" name="password" id="passwordInput" placeholder="enter your password" />
							<div id="passwordAlert" class="alert" style="display: none; color: red; font-size: medium; margin-top: 5px; ">Invalid password</div>
						</div>
					</div>
				</div>
				<input type="submit" value="sign in" class="btn" />
			</form>
				<script>
				document.getElementById('signinForm').addEventListener('submit', async function(event) {
					const emailInput = document.getElementById('emailInput');
					const passwordInput = document.getElementById('passwordInput');
					const emailAlert = document.getElementById('emailAlert');
					const passwordAlert = document.getElementById('passwordAlert'); 
		
					emailAlert.style.display = 'none';
					passwordAlert.style.display = 'none';
		
					if (!emailInput.value || !passwordInput.value) {
						if (!emailInput.value) {
							emailAlert.style.display = 'block';
						}
						if (!passwordInput.value) {
							passwordAlert.style.display = 'block';
						}
						event.preventDefault(); // Prevent the form from submitting
					} else {
						// Continue with form submission
					}
				});
			</script>
				<script>
					document.addEventListener("DOMContentLoaded", () => {
						const urlParams = new URLSearchParams(window.location.search);
						const error = urlParams.get('error');
						const errorMessages = document.getElementById('errorMessages');
						if (error) {
							const errorMessage = JSON.parse(decodeURIComponent(error)).text;
							errorMessages.textContent = errorMessage;
							errorMessages.style.display = 'block';
							setTimeout(() => {
								errorMessages.style.display = 'none';
							}, 2000);
						} else {
							if (!window.location.search.includes('error=')) {
								errorMessages.style.display = 'none';
							}
						}
					});
				</script>
		</section>

		
		
	
		<!-- footer -->

		<section class="footer">
			<div class="icons-container">
				<div class="icons">
					<i class="fas fa-map"></i>
					<h3>address</h3>
						<p>
							Elie Wiesel St 2, Rishon LeTsiyon,  Israel
						</p>
				</div>

				<div class="icons">
					<i class="fas fa-phone"></i>
					<h3>phone</h3>
					<p>03-333-3333</p>
					<p>07-777-7777</p>
				</div>

				<div class="icons">
					<i class="fas fa-clock"></i>
					<h3>opening hours</h3>
					<p>
						Sunday - Thursday : 9:00 - 22:00 <br />
						Friday: 9:00 - 11:00
					</p>
				</div>
			</div>

		</section>

		<!-- footer -->
	</body>
</html>